# SPDX-FileCopyrightText: Copyright (c) 2016-2025 Objectionary.com
# SPDX-License-Identifier: MIT
---
# yamllint disable rule:line-length
# @todo #4426:60min Enable `auto-phi` after nested object representation in auto phi will be fixed.
#  Currently, this snippet fails, because we have duplication in the generated representation of
#  auto Phi object: application assigned to '@' (`Œæ.œÅ.m.get.eq` in this example) contains itself
#  in the first as attribute `Œ±0`, together with nested attribute - reference to void attribute
#  (`Œæ.i`). We must fix this nesting, and enable the test. This XMIR is problematic:
#  <o line="10" name="aüåµ108" pos="8">
#    <o base="‚àÖ" line="10" name="i" pos="24"/>
#    <o base="Œæ.œÅ.m.get.eq" line="10" name="œÜ" pos="8">
#      <o as="Œ±0" base="Œæ.œÅ.m.get.eq" line="10" pos="13">
#        <o as="Œ±0" base="Œæ.i" line="10"/>
#        <o as="Œ±1" base="Œ¶.org.eolang.number" line="10" pos="17".../>
#      </o>
#    </o>
#  </o>
#  The correct XMIR should be this:
#  <o line="10" name="aüåµ108" pos="8">
#    <o base="‚àÖ" line="10" name="i" pos="24"/>
#    <o base="Œæ.œÅ.m.get.eq" line="10" name="œÜ" pos="8">
#      <o as="Œ±1" base="Œ¶.org.eolang.number" line="10" pos="17".../>
#    </o>
#  </o>
skip: true
out: []
file: org/eolang/snippets/auto.eo
args: ["org.eolang.snippets.auto"]
eo: |
  +alias org.eolang.io.stdout
  +package org.eolang.snippets

  # No comments.
  [] > auto
    malloc.of > @
      8
      [m]
        while > @
          m.get.eq 42 >> [i]
          m.put 42 >> [i]
